<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <title>AR.js interactif avec Hiro</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.4/aframe/build/aframe-ar-nft.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs>
      
      <a-entity camera>
        <a-cursor
          fuse="false"
          raycaster="objects: .clickable">
        </a-cursor>
      </a-entity>

      <a-marker preset="hiro">
        <a-box 
          class="clickable"
          position="0 0.5 0" 
          color="red" 
          opacity="0.5"
          rotation="0 0 0"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 4000; easing: linear">
        </a-box>
      </a-marker>
    </a-scene>

    <script>
      const box = document.querySelector('a-box');
      const colors = ['red', 'blue', 'green', 'yellow', 'purple'];
      let index = 0;

      box.addEventListener('click', () => {
        index = (index + 1) % colors.length;
        box.setAttribute('color', colors[index]);

        box.setAttribute('animation__scale', `
          property: scale;
          to: 1.5 1.5 1.5;
          dur: 500;
          dir: alternate;
          loop: 1;
        `);
      });
    </script>
  </body>
</html>
